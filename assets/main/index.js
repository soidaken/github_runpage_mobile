System.register("chunks:///_virtual/Clogger.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){function r(t,n,r){for(var o=String(t);o.length<n;)o=r+o;return o}n._RF.push({},"ff0e1sXWvBOGINXuYOC85Ec","Clogger",void 0);t("logger",new(function(){function t(t){void 0===t&&(t=""),this.prefix=void 0,this.prefix=t}var n=t.prototype;return n.formatAndLog=function(){for(var t=new Date,n=r(t.getHours(),2,"0"),o=r(t.getMinutes(),2,"0"),e=r(t.getSeconds(),2,"0"),i=r(t.getMilliseconds(),3,"0"),c=n+":"+o+":"+e+"."+i,a=arguments.length,f=new Array(a),g=0;g<a;g++)f[g]=arguments[g];console.log(this.prefix+"|"+c+"|"+f.map((function(t){return"object"==typeof t?JSON.stringify(t):String(t)})).join(" "))},n.debug=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.formatAndLog.apply(this,["DEBUG"].concat(n))},n.log=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.formatAndLog.apply(this,["LOG"].concat(n))},n.warn=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.formatAndLog.apply(this,["WARN"].concat(n))},n.error=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.formatAndLog.apply(this,["ERROR"].concat(n))},t}())("SOIDA"));n._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Clogger.ts","./RapierDebugRenderer.ts","./SceneMain.ts","./SceneRapier2d.ts"],(function(){return{setters:[null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/RapierDebugRenderer.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,i,t,n,o,a,s,l,c;return{setters:[function(e){r=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.Graphics,l=e.Color,c=e.Component}],execute:function(){var h,p,u,f,g,d,b,v;o._RF.push({},"02035i+CxhHpK1Gppcv8O2Z","RapierDebugRenderer",void 0);var R=a.ccclass,y=a.property,w=e("RAPIER_PTM_RATIO",32);e("RapierDebugRenderer",(h=R("RapierDebugRenderer"),p=y(s),h((g=r((f=function(e){function r(){for(var r,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o))||this,t(r,"graphics",g,n(r)),t(r,"lineWidth",d,n(r)),t(r,"scale",b,n(r)),t(r,"onoff",v,n(r)),r._world=null,r}i(r,e);var o=r.prototype;return o.setWorld=function(e){this._world=e},o.update=function(){this._world&&this.graphics&&this.onoff&&this.render(this._world)},o.clear=function(){this.graphics&&this.graphics.clear()},o.render=function(e){var r=e.debugRender(),i=r.vertices,t=r.colors;this.graphics.clear();for(var n=0;n<i.length/4;n++){var o=Math.floor(255*t[8*n]),a=Math.floor(255*t[8*n+1]),s=Math.floor(255*t[8*n+2]),c=255*t[8*n+3];this.graphics.lineWidth=this.lineWidth,this.graphics.strokeColor=new l(o,a,s,c);var h=i[4*n]*this.scale,p=i[4*n+1]*this.scale,u=i[4*n+2]*this.scale,f=i[4*n+3]*this.scale;this.graphics.moveTo(h,p),this.graphics.lineTo(u,f),this.graphics.close(),this.graphics.stroke()}},r}(c)).prototype,"graphics",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=r(f.prototype,"lineWidth",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),b=r(f.prototype,"scale",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w}}),v=r(f.prototype,"onoff",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),u=f))||u));o._RF.pop()}}}));

System.register("chunks:///_virtual/SceneMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Clogger.ts"],(function(t){var e,n,i,o,r,a,c,l,s,u,p,h,f,d,_,m,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,c=t.Node,l=t.Prefab,s=t.PhysicsSystem2D,u=t.director,p=t.Label,h=t.instantiate,f=t.Sprite,d=t.Color,_=t.view,m=t.Component},function(t){b=t.logger}],execute:function(){var g,y,v,w,A,M,S,z,C,L,B,P,D;r._RF.push({},"22878wOA0VKEIlqbBUg0i31","SceneMain",void 0);var I=a.ccclass,F=a.property;t("SceneMain",(g=I("SceneMain"),y=F(c),v=F(c),w=F(l),A=F(c),M=F(c),g((C=e((z=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"node_fps",C,o(e)),i(e,"node_counts",L,o(e)),i(e,"prefab_item",B,o(e)),i(e,"container_balls",P,o(e)),i(e,"node_switchscene",D,o(e)),e._timeAccumulator=void 0,e._countAcc=void 0,e._listBalls=[],e}n(e,t);var r=e.prototype;return r.onLoad=function(){b.log("dballs onLoad");var t=s.instance;t.positionIterations=4,t.velocityIterations=2},r.start=function(){b.log("dballs start"),this.node_switchscene.on("click",(function(t){u.loadScene("scene_rapier2d")}))},r.update=function(t){if(this._timeAccumulator||(this._timeAccumulator=0),this._timeAccumulator+=t,this._timeAccumulator>=.1&&(this.node_fps.getComponent(p).string="FPS: "+Math.floor(1/t),this._timeAccumulator=0),!(Math.floor(1/t)<30)){this._countAcc||(this._countAcc=0);for(var e=0;e<4;e++){var n=h(this.prefab_item);n.getComponent(f).color=new d(255*Math.random(),255*Math.random(),255*Math.random()),this.container_balls.addChild(n);var i=(2*Math.random()-1)*_.getVisibleSize().width/2;n.setPosition(i,400),this._listBalls.push(n)}this.node_counts.getComponent(p).string="BALLS: "+this._listBalls.length,this._countAcc=0}},e}(m)).prototype,"node_fps",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(z.prototype,"node_counts",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(z.prototype,"prefab_item",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(z.prototype,"container_balls",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(z.prototype,"node_switchscene",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=z))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/SceneRapier2d.ts",["./rollupPluginModLoBabelHelpers.js","cc","./rapier.cjs.mjs_cjs=&original=.js","./RapierDebugRenderer.ts","./Clogger.ts","./rapier.cjs.js"],(function(e){var t,i,n,r,o,a,l,c,s,d,u,p,g,h,f,b,_,m,R,y,w,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){l=e.cclegacy,c=e._decorator,s=e.Node,d=e.Prefab,u=e.Label,p=e.director,g=e.view,h=e.instantiate,f=e.Sprite,b=e.Color,_=e.UITransform,m=e.Component},null,function(e){R=e.RAPIER_PTM_RATIO,y=e.RapierDebugRenderer},function(e){w=e.logger},function(e){v=e.default}],execute:function(){var C,B,D,F,T,A,S,M,z,j,L,P,x,I,N;l._RF.push({},"188cejHh3JFM41irWMOopTr","SceneRapier2d",void 0);var O=c.ccclass,W=c.property;e("SceneRapier2d",(C=O("SceneRapier2d"),B=W(s),D=W(s),F=W(d),T=W(s),A=W(s),S=W(s),C((j=t((z=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"node_fps",j,r(t)),n(t,"node_counts",L,r(t)),n(t,"prefab_item",P,r(t)),n(t,"container_balls",x,r(t)),n(t,"node_switch",I,r(t)),n(t,"node_switchscene",N,r(t)),t._timeAccumulator=void 0,t._countAcc=void 0,t.world=void 0,t.gravity=new v.Vector2(0,-10),t._initComplete=!1,t._rigidBody=void 0,t._debugRenderer=void 0,t._mapNodeBalls=new Map,t}i(t,e);var l=t.prototype;return l.onLoad=function(){var e=o(a().mark((function e(){var t=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w.log("dballs onLoad"),v.init().then((function(){w.log("RAPIER.init success"),t._initComplete=!0,t.world=new v.World(t.gravity),t.fillWorld(),t._debugRenderer=t.getComponent(y),t._debugRenderer.setWorld(t.world),t.afterInit()}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l.afterInit=function(){var e=this;this.node_switch.children[0].getComponent(u).string=this._debugRenderer.onoff?"debug:ON":"debug:OFF",this.node_switch.on("click",(function(t){e._debugRenderer.onoff=!e._debugRenderer.onoff,e._debugRenderer.clear(),t.node.children[0].getComponent(u).string=e._debugRenderer.onoff?"debug:ON":"debug:OFF"}))},l.start=function(){w.log("dballs start"),this.node_switchscene.on("click",(function(e){p.loadScene("scene_box2d")}))},l.fillWorld=function(){var e=this.world,t=g.getVisibleSize(),i=e.createRigidBody(new v.RigidBodyDesc(v.RigidBodyType.Fixed));e.createCollider(v.ColliderDesc.cuboid(t.width/2,.5).setTranslation(0,-t.height/(2*R)).setRestitution(1).setFriction(0),i);var n=e.createRigidBody(new v.RigidBodyDesc(v.RigidBodyType.Fixed));e.createCollider(v.ColliderDesc.cuboid(.5,t.height/2).setTranslation(-t.width/(2*R),0).setRestitution(1).setFriction(0),n);var r=e.createRigidBody(new v.RigidBodyDesc(v.RigidBodyType.Fixed));e.createCollider(v.ColliderDesc.cuboid(.5,t.height/2).setTranslation(t.width/(2*R),0).setRestitution(1).setFriction(0),r)},l.update=function(e){if(this._timeAccumulator||(this._timeAccumulator=0),this._timeAccumulator+=e,this.node_fps.getComponent(u).string="FPS: "+Math.floor(1/e),!(Math.floor(1/e)<30)&&(this._countAcc||(this._countAcc=0),this._initComplete)){this.world.step(),this._mapNodeBalls.forEach((function(e,t){var i=e.translation();t.setPosition(i.x*R,i.y*R),t.active=!0}));for(var t=0;t<4;t++){var i=h(this.prefab_item);i.getComponent(f).color=new b(255*Math.random(),255*Math.random(),255*Math.random()),i.active=!1,this.container_balls.addChild(i);var n=(2*Math.random()-1)*g.getVisibleSize().width/2,r=(i.getComponent(_).width-2)/2,o=this.world.createRigidBody(new v.RigidBodyDesc(v.RigidBodyType.Dynamic).setTranslation(n/R,400/R).setLinearDamping(0).setAngularDamping(0).setCanSleep(!1));this.world.createCollider(v.ColliderDesc.ball(r/R).setDensity(1).setRestitution(.5).setFriction(0),o),this._mapNodeBalls.set(i,o)}this.node_counts.getComponent(u).string="BALLS: "+this.container_balls.children.length}},t}(m)).prototype,"node_fps",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(z.prototype,"node_counts",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(z.prototype,"prefab_item",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(z.prototype,"container_balls",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(z.prototype,"node_switch",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(z.prototype,"node_switchscene",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=z))||M));l._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});